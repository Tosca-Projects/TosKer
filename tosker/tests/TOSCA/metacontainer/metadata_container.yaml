tosca_definitions_version: tosca_simple_yaml_1_0

description: >
  TOSCA simple profile with wordpress, web server and mysql on the same server.

repositories:
  docker_hub: https://registry.hub.docker.com/

imports:
  # - tosker: https://di-unipi-socc.github.io/tosker-types/0.0.6/tosker.yaml
  - tosker: ../../../tosker-types.yaml

topology_template:
  node_templates:
    server:
      type: tosker.nodes.Software
      requirements:
        - host:
            node_filter:
               properties:
                 - software: #non s√≤ se questo si possa fare
                    - nodejs: { equal: 6.0 }
                 - size: { in_range: [0 MB, 200 MB] }
                 - pulls: { in_range: [200, UNBOUNDED] }
                 - stars: { in_range: [50, UNBOUNDED] }
      interfaces:
        Standard:
          start:
            implementation: get_version.sh

    # nodejs:
    #   type: tosker.nodes.Container
    #   properties:
    #     metadata:
    #       software:
    #         nodejs: 6
    #       size: <=200MB
    #       pulls: >200
    #       stars: >50
